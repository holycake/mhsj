// entrance.c

#include <login.h>
#include <room.h>
#include <ansi.h>

inherit ROOM;

void create()
{
  set ("short",HBRED HIW" åƒ é‡Œ å…± å©µ å¨Ÿ  "BLINK HIM" *  "NOR);
        set("long", @LONG

  
[44m[1;37mâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[2;37;0m
[44m[1;37mâ”‚        .      .[2;37;0m[44m[1;37m  åƒ ä½† æ­¤ æœˆ äºº ä½• ç…§ è½¬ ä½• èµ· é«˜ å”¯ æˆ‘ ä»Š ä¸ æŠŠ æ˜Ž   [1;33mâ˜†[1;37m â”‚[2;37;0m
[44m[1;37mâ”‚ .    [1;33mâ—[1;37m    .     é‡Œ æ„¿ äº‹ æœ‰ æœ‰ äº‹ æ—  æœ± ä¼¼ èˆž å¤„ æ æ¬² å¤• çŸ¥ é…’ æœˆ  [1;37m ä½†[1;37m â”‚[2;37;0m
[44m[1;37mâ”‚  [5m .[2;37;0m[44m[1;37m            . å…± äºº å¤ é˜´ æ‚² é•¿ çœ  é˜ åœ¨ å¼„ ä¸ ç¼ ä¹˜ æ˜¯ å¤© é—® å‡    [1;37mæ„¿[1;37m â”‚[2;37;0m
[44m[1;37mâ”‚          .       å©µ é•¿ éš¾ æ™´ æ¬¢ å‘ ã€‚ ï¼Œ äºº æ¸… èƒœ æ¥¼ é£Ž ä½• ä¸Š é’ æ—¶   [1;37mäºº [1;37mâ”‚[2;37;0m
[44m[1;37mâ”‚    .             å¨Ÿ ä¹… å…¨ åœ† ç¦» åˆ« ä¸ ä½Ž é—´ å½± å¯’ çŽ‰ å½’ å¹´ å®« å¤© æœ‰   [1;37mé•¿ [1;37mâ”‚[2;37;0m
[44m[1;37mâ”‚             [5m.[2;37;0m[44m[1;37m    ã€‚ ï¼Œ ï¼ ç¼º åˆ æ—¶ åº” ç»® ï¼Ÿ ï¼Œ ã€‚ å®‡ åŽ» ï¼Ÿ é˜™ ã€‚ ï¼Ÿ   [1;37mä¹… [1;37mâ”‚[2;37;0m
[44m[1;37mâ”‚[5m .[2;37;0m[44m[1;37m      .                  ï¼Œ ï¼Œ åœ† æœ‰ æˆ·          ï¼Œ ï¼Œ    ï¼Œ         [1;33mâ˜† [1;37mâ”‚[2;37;0m
[44m[1;37mâ”‚     .           .[2;37;0m[44m[1;37m         .     ï¼Ÿ æ¨ ï¼Œ                                 â”‚[2;37;0m
[44m[1;37mâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯[2;37;0m
è¿™é‡Œæ˜¯ä¸€ç‰‡éƒéƒè‘±è‘±çš„æ ‘æž—ï¼Œæ ‘ä¸Šæœ‰è®¸å¤šå–œé¹Š(xique)åœ¨è·³æ¥è·³åŽ»ï¼Œå½å½å–³å–³å«ä¸ªä¸åœã€‚

LONG);
 set("objects", ([
    "/d/dntg/niulang/xique.c" : random(7) ,
         ]));

        set("exits", ([
		"south" : "/d/moon/ylt",
         ]) );
        set("no_time",1);
        set("no_fight", 1);
        set("no_magic", 1);

  set("objects", ([ /* sizeof() == 1 */
]));
        setup();
          call_other( "/obj/board/moon_ah", "???" );
}
void init()
{ add_action("do_zhuo", "zhuo");
}
int do_zhuo(string arg)
{
object me=this_player();
object xique;
int fy,qg;
if ( !arg || ((arg != "xique") ))   return notify_fail("ä½ è¦æ‰ä»€ä¹ˆï¼Ÿ\n");
if( me->is_busy() )  return notify_fail("ä½ ä¸Šä¸€ä¸ªåŠ¨ä½œè¿˜æ²¡æœ‰å®Œæˆã€‚\n"); 
if (me->query("kee") < (int)(me->query("max_kee")/3)) return notify_fail("æ‚¨å…ˆæ­‡æ­‡å§ï¼Œä¸çŸ¥é“æ˜¯ä½ æŠ“å–œé¹Šè¿˜æ˜¯å–œé¹ŠæŠ“ä½ :P\n");
message_vision("$Nå‘¼å“§å‘¼å“§åœ°å¾€æ ‘ä¸Šçˆ¬ï¼Œçœ‹æ ·å­æ˜¯æƒ³åšåäº‹äº†ï¼\n",me);
fy= me->query("kar");
qg=me->query_skill("dodge",1);
xique=present("xique", environment(me));
if ( random(qg) < 100) return notify_fail("ä½ çˆ¬åˆ°ä¸€åŠï¼Œè„šä¸‹ä¸€ä¸ªä¸ç¨³ï¼Œå€’æ ½è‘±æ‘”äº†ä¸‹æ¥ã€‚\n");
if (random(fy)<28) return notify_fail("ä½ çºµèº«ä¸€è·³ï¼Œè°çŸ¥é“è¿æ°”ä¸å¥½ï¼Œä¸€è„šè¸©ç©ºï¼Œæ‰‘é€šæ‘”äº†ä¸ªç‹—å•ƒæ³¥ã€‚\n");
//message_vision("$Nå‘¼å“§å‘¼å“§åœ°å¾€æ ‘ä¸Šçˆ¬ï¼Œçœ‹æ ·å­æ˜¯æƒ³åšåäº‹äº†ï¼\n",me);
if(!xique) {
            message_vision("$Næ‚„æ‚„åœ°æŽ¥è¿‘å–œé¹Šï¼Œçªç„¶ä¸€å£°å“åŠ¨ï¼Œå–œé¹Šéƒ½å“èµ°äº†ï¼\n",me);
	    return 1;}
if(!xique->move(me)) {
	    message_vision("$Nçš„å¸¦çš„ä¸œè¥¿å¤ªå¤šäº†ï¼Œæ‰‘å“§ä»Žæ ‘ä¸Šæ‘”äº†ä¸‹æ¥ã€‚\n",me);
	    return 1;}
else message_vision("$NçŒ›åœ°ä¸€æ‰‘ï¼Œæ‰ä½äº†ä¸€åªå–œé¹Šï¼\n",me);
me->start_busy(3);
me->receive_damage("kee", 30);
return 1;
}

